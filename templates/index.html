<!DOCTYPE html>
<html lang="id">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XLVPCYQLVH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XLVPCYQLVH');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buat Prediksi Baru | Prediksi-Kan</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
</head>
<body>
{% include 'navbar.html' %}
<div class="container">
    <h1>Prediksi Pertandingan Sepak Bola</h1>

    <div class="note">
        ⚠️ Catatan: Prediksi otomatis saat ini mendukung 5 liga utama (Serie A, La Liga, Premier League, Bundesliga, Ligue 1). 
        Untuk liga lainnya, silakan masukkan data Elo tim secara manual atau biarkan default.
    </div>

    <div class="form-group">
        <label for="League">Liga</label>
        <select id="League" class="input-field">
            <option value="">Pilih liga...</option>
        </select>
    </div>

    <div class="form-group">
        <label for="HomeTeam">Home</label>
        <select id="HomeTeam" class="input-field" disabled>
            <option value="">Pilih tim kandang...</option>
        </select>
    </div>

    <div class="form-group">
        <label for="AwayTeam">Away</label>
        <select id="AwayTeam" class="input-field" disabled>
            <option value="">Pilih tim tandang...</option>
        </select>
    </div>

    <div id="feature-section" class="hidden">
        <h2>📊 Fitur Pertandingan</h2>
        <div class="note-elo" style="margin-bottom:10px; font-size:0.9rem; color:#f39c12;">
            ⚠️ ELO digunakan untuk menilai kekuatan tim. Untuk liga yang sudah tersedia (5 liga utama), ELO dihitung otomatis. Untuk liga lain, Anda bisa memasukkan nilai ELO sendiri (default 1500).
        </div>
        <div class="elo-section">
            <div class="grid">
                <div class="input-wrapper">
                    <label for="HomeTeamElo">Elo Home</label>
                    <input id="HomeTeamElo" class="auto-input" placeholder="Elo tim kandang">
                </div>
                <div class="input-wrapper">
                    <label for="AwayTeamElo">Elo Away</label>
                    <input id="AwayTeamElo" class="auto-input" placeholder="Elo tim tandang">
                </div>
            </div>
            <div class="input-wrapper" style="max-width:350px;margin:18px auto 0 auto;">
                <label for="EloDifference">Selisih Elo</label>
                <input id="EloDifference" class="auto-input" placeholder="EloDifference">
            </div>
        </div>

        <div class="stats-section">
            <div class="grid stats-grid">
                <div>
                    <h3 class="stats-title">Statistik Tim Home</h3>
                    <div class="input-wrapper"><label for="Home_AvgGoalsScored">Gol Dicetak</label><input id="Home_AvgGoalsScored" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Home_AvgGoalsConceded">Gol Kebobolan</label><input id="Home_AvgGoalsConceded" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Home_Wins">Menang</label><input id="Home_Wins" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Home_Draws">Seri</label><input id="Home_Draws" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Home_Losses">Kalah</label><input id="Home_Losses" class="auto-input"></div>
                </div>
                <div>
                    <h3 class="stats-title">Statistik Tim Away</h3>
                    <div class="input-wrapper"><label for="Away_AvgGoalsScored">Gol Dicetak</label><input id="Away_AvgGoalsScored" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Away_AvgGoalsConceded">Gol Kebobolan</label><input id="Away_AvgGoalsConceded" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Away_Wins">Menang</label><input id="Away_Wins" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Away_Draws">Seri</label><input id="Away_Draws" class="auto-input"></div>
                    <div class="input-wrapper"><label for="Away_Losses">Kalah</label><input id="Away_Losses" class="auto-input"></div>
                </div>
            </div>
        </div>

        <div class="hth-section">
            <h3 class="stats-title">Statistik H2H</h3>
            <div class="grid hth-grid">
                <div class="input-wrapper"><label for="HTH_HomeWins">Home Menang</label><input id="HTH_HomeWins" class="auto-input"></div>
                <div class="input-wrapper"><label for="HTH_AwayWins">Away Menang</label><input id="HTH_AwayWins" class="auto-input"></div>
                <div class="input-wrapper"><label for="HTH_Draws">Seri</label><input id="HTH_Draws" class="auto-input"></div>
                <div class="input-wrapper"><label for="HTH_AvgHomeGoals">Gol Home</label><input id="HTH_AvgHomeGoals" class="auto-input"></div>
                <div class="input-wrapper"><label for="HTH_AvgAwayGoals">Gol Away</label><input id="HTH_AvgAwayGoals" class="auto-input"></div>
            </div>
        </div>

        <h3 class="odds-title">💰 Odds</h3>
        <div class="odds-group">
            <div class="input-wrapper"><label for="AvgH">Odds Home</label><input id="AvgH" class="auto-input"></div>
            <div class="input-wrapper"><label for="AvgD">Odds Draw</label><input id="AvgD" class="auto-input"></div>
            <div class="input-wrapper"><label for="AvgA">Odds Away</label><input id="AvgA" class="auto-input"></div>
            <div class="input-wrapper"><label for="AvgOver25">Odds Over 2.5</label><input id="AvgOver25" class="auto-input"></div>
            <div class="input-wrapper"><label for="AvgUnder25">Odds Under 2.5</label><input id="AvgUnder25" class="auto-input"></div>

        </div>

        <button id="PredictBtn">Prediksi Sekarang</button>
    </div>

    <div id="result" class="hidden">
        <h2>🏠 Hasil Prediksi</h2>
        <p id="main-result"></p>

        <h3>📈 Probabilitas</h3>
        <div id="prob-bars">
            <div class="prob-item">
                <span>🏠 Home Win</span>
                <div class="prob-bar"><div id="bar-home" class="bar home-bar"></div></div>
                <span id="val-home">0%</span>
            </div>
            <div class="prob-item">
                <span>🤝 Draw</span>
                <div class="prob-bar"><div id="bar-draw" class="bar draw-bar"></div></div>
                <span id="val-draw">0%</span>
            </div>
            <div class="prob-item">
                <span>🚀 Away Win</span>
                <div class="prob-bar"><div id="bar-away" class="bar away-bar"></div></div>
                <span id="val-away">0%</span>
            </div>

            <hr style="margin: 20px 0; border-color: #333;">

            <div class="prob-item">
                <span>⚽ Over 2.5</span>
                <div class="prob-bar"><div id="bar-over" class="bar over-bar"></div></div>
                <span id="val-over">0%</span>
            </div>
            <div class="prob-item">
                <span>🛡️ Under 2.5</span>
                <div class="prob-bar"><div id="bar-under" class="bar under-bar"></div></div>
                <span id="val-under">0%</span>
            </div>
            <div class="prob-item">
                <span>🤝 BTTS (Both Teams To Score)</span>
                <div class="prob-bar"><div id="bar-btts" class="bar btts-bar"></div></div>
                <span id="val-btts">0%</span>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</div> 
<footer class="main-footer">
    <div class="footer-copyright">&copy; 2025 Prediksi-Kan. All rights reserved.</div>
    <div class="footer-data-source">Data sourced from <a href="https://www.football-data.co.uk/" target="_blank" rel="noopener noreferrer">football-data.co.uk</a></div>
</footer>
</body>
</html>